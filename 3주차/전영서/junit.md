JUnit


# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ ì´í•´í•˜ê¸°    
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ë¥¸ ëª¨ë“  ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë“¤ê³¼ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ë˜ì–´ì•¼ í•œë‹¤.   
- í”„ë ˆì„ì›Œí¬ëŠ” í…ŒìŠ¤íŠ¸ ê°ê°ì˜ ì˜¤ë¥˜ë¥¼ ì‹ë³„í•˜ê³  ë³´ê³ í•´ì•¼ í•œë‹¤.   
- ì–´ë–¤ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í• ì§€ ì„ íƒí•˜ê¸° ì‰¬ì›Œì•¼ í•œë‹¤.   

# JUnitì˜ ì„¤ê³„ ëª©í‘œ
- ìœ ìš©í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ë° ë³´íƒ¬ì´ ë˜ì–´ì•¼ í•œë‹¤.   
- ì‹œê°„ì´ ì§€ë‚˜ë„ ê°€ì¹˜ê°€ ë³€í•˜ì§€ ì•ŠëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ë° ë³´íƒ¬ì´ ë˜ì–´ì•¼ í•œë‹¤.   
- ì½”ë“œ ì¬ì‚¬ìš©ì„ í†µí•´ í…ŒìŠ¤íŠ¸ ì‘ì„± ë¹„ìš©ì„ ë‚®ì¶”ëŠ” ë° ë³´íƒ¬ì´ ë˜ì–´ì•¼ í•œë‹¤.   

ğŸ’ ê°„ë‹¨í•œ ì˜ˆì‹œ
```
public class CalculatorTest {   
    @Test   
    public void testAdd() {   
        Calculator calculator = new Calculator();   
        double result = calculator.add(10, 50);   
        assertEquals(60, result, 0);   
    }   
}
```
< ì„¤ëª… >    
1. ë°˜ë“œì‹œ public ì´ì–´ì•¼ í•œë‹¤.   
2. @Test ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì—¬ ì´ ë©”ì„œë“œê°€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì„ì„ í‘œì‹œí•œë‹¤.   
3. Calculator í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„± -- ê°ì²´ í˜•íƒœ   
4. assertEquals ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ í™•ì¸í•œë‹¤.   
5. ë°˜í™˜í˜•ì€ voidì´ì–´ì•¼ í•˜ê³ , íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì•„ì„œëŠ” ì•ˆëœë‹¤.   
   
# Junit assert ì˜ˆì‹œ   
- assertArrayEquals("message", A,B)    
ë°°ì—´ Aì™€ Bê°€ ì¼ì¹˜í•¨ì„ í™•ì¸   
- assertEquals("message", A,B)   
ê°ì²´ Aì™€ Bê°€ ì¼ì¹˜í•¨ì„ í™•ì¸. equals()   
- assertSame("message", A,B)   
ê°ì²´ Aì™€ Bê°€ ê°™ì€ ê°ì²´ì„ì„ í™•ì¸í•œë‹¤. ==   
- assertTrue("message",A)   
ì¡°ê±´ Aê°€ ì°¸ì¸ì§€ í™•ì¸   
assertNotNull("message",A)   
ê°ì²´ Aê°€ nullì´ ì•„ë‹˜ì„ í™•ì¸   
      
# JUNIT ìì„¸íˆ ì‚´í´ë³´ê¸°   
@Before @After ì–´ë…¸í…Œì´ì…˜ì´ ë¶€ì—¬ëœ ë©”ì„œë“œë“¤ì€ ë§¤ @Test ë©”ì„œë“œê°€ í˜¸ì¶œë˜ê¸° ë°”ë¡œ ì§ì „ê³¼ ì§í›„ì— ì‹¤í–‰ëœë‹¤. @Test ë©”ì„œë“œì˜ ì„±ê³µ ì‹¤íŒ¨ ì—¬ë¶€ëŠ” ìƒê´€ì—†ë‹¤.    
ë•Œë¬¸ì— í•„ìš”í•œ ë„ë©”ì¸ ê°ì²´ë¥¼ ë¯¸ë¦¬ ìƒì„±í•´ë‘ê±°ë‚˜, íŠ¹ì • ìƒíƒœë¡œ ë¯¸ë¦¬ ì…‹íŒ…í•˜ê¸° ìœ„í•œ ê³µí†µ ì½”ë“œë¥¼ ë½‘ì•„ë‘ê¸°ì— ìµœì ì˜ ì¥ì†Œì´ë‹¤!!   
   
# ê°€ì¥ ë„ë¦¬ ì“°ì´ëŠ” Hamcrest ë§¤ì²˜   
anything - ë¬´ì—‡ì´ë“  ìƒê´€ì—†ì´ ëª¨ë“  ê²ƒì„ ê°€ë¦¬í‚´. assertë¬¸ì˜ ê°€ë…ì„±ì„ ë†’ì´ê³  ì‹¶ì„ ë•Œ ìœ ìš©   
is - ë¬¸ì¥ ê°€ë…ì„± í–¥ìƒ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©ë¨   
allOf - í¬í•¨í•œ ëª¨ë“  ë§¤ì²˜ê°€ ë§¤ì¹­ë˜ëŠ”ì§€ ê²€ì‚¬í•œë‹¤. (&&ì™€ ë™ì¼)   
anyOf - í¬í•¨í•œ ë§¤ì²˜ ì¤‘ í•˜ë‚˜ë¼ë„ (||ì™€ ë™ì¼)   
not - í¬í•¨í•œ ë§¤ì²˜ë“¤ì˜ ì˜ë¯¸ë¥¼ ë¶€ì •í•œë‹¤.(ìë°”ì˜ ! ì—°ì‚°ìì™€ ë™ì¼)   
instanceOf, isCompatibleType - ê°ì²´ë“¤ì˜ í˜¸í™˜ ê°€ëŠ¥í•œ íƒ€ì…ì¸ì§€ í™•ì¸   
sameInstance - ê°ì²´ ì‹ ì›ì„ í™•ì¸í•œë‹¤.   
notNullValue, nullValue - ê°’ì´ nullì¸ì§€/í˜¹ì€ ì•„ë‹Œì§€ ê²€ì‚¬   
hasProperty - ìë°”ë¹ˆì´ íŠ¹ì • ì†ì„±ì„ ê°–ëŠ”ì§€ ê²€ì‚¬   
hasEntry, hasKey, hasValue - ì£¼ì–´ì§„ Mapì´ ëª…ì‹œëœ entry, key, valueë¥¼ í¬í•¨í•˜ëŠ”ì§€ ê²€ì‚¬         
hasItem, hasItems - ì£¼ì–´ì§„ ì»¬ë ‰ì…˜ì´ ëª…ì‹œí•œ ì•„ì´í…œ, í˜¹ì€ ì•„ì´í…œë“¤ì„ í¬í•¨í•˜ëŠ”ì§€ ê²€ì‚¬   
closeTo, greaterThan, graterThanOrEqual, lessThan, lessThanOrEqual - ì£¼ì–´ì§„ ìˆ«ìê°€ ë˜ ë‹¤ë¥¸ ìˆ«ìì— ê·¼ì ‘í•œì§€, ë” í°ì§€, ë” í¬ê±°ë‚˜ ê°™ì€ì§€ ...   
equalToIgnoringCase - ì£¼ì–´ì§„ ë¬¸ìì—´ì´ ë‹¤ë¥¸ ë¬¸ìì—´ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ ê²€ì‚¬(ëŒ€ì†Œë¬¸ì ë¬´ì‹œ)   
equalToIgnoringWhiteSpace - ìœ„ì™€ ì¼ì¹˜(ê³µë°±ë¬¸ì ë¬´ì‹œ)   
containsString, endsWith, startWith - ì£¼ì–´ì§„ ë¬¸ìì—´ì´ ë‹¤ë¥¸ ë¬¸ìì—´ì„ í¬í•¨í•˜ëŠ”ì§€, ê·¸ ë¬¸ìì—´ë¡œ ì‹œì‘/ëë‚˜ëŠ”ì§€   

# JUNIT ëª¨ë²” ì‚¬ë¡€   
âœ¨í•œ ë²ˆì— í•˜ë‚˜ì˜ ê°ì²´ë§Œ í…ŒìŠ¤íŠ¸í•˜ë¼.   
âœ¨í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì— ì˜ë¯¸ìˆëŠ” ì´ë¦„ì„ ë¶€ì—¬í•˜ë¼.    
testXXXYYY -> XXXì—ëŠ” í…ŒìŠ¤íŠ¸í•  ë„ë©”ì¸ ë©”ì„œë“œì˜ ì´ë¦„ì´ ë“¤ì–´ê°€ê³ , YYYì—ëŠ” ê¸°ë³¸ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì™€ ì–´ë–»ê²Œ ë‹¤ë¥¸ì§€ë¥¼ ê¸°ìˆ í•œë‹¤.   
âœ¨ìœ„ì—ì„œ messageì—ëŠ” í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ ì˜ë¯¸ìˆëŠ” ì„¤ëª…ì„ ì œê³µí•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.   
âœ¨ì‹¤íŒ¨í•  ê°€ëŠ¥ì„±ì´ ìˆëŠ” ëª¨ë“  ê²ƒì„ í…ŒìŠ¤íŠ¸í•˜ë¼.   
âœ¨í…ŒìŠ¤íŠ¸ ì‘ì„±ì€ ë•Œë¡  ë” ì¢‹ì€ ì½”ë“œ ì‘ì„±ì— ë„ì›€ì´ ëœë‹¤. TDDë¥¼ í™œìš©í•˜ë¼.   
âœ¨ì˜ˆì™¸ í…ŒìŠ¤íŠ¸ë„ ì½ê¸° ì‰½ê²Œ ë§Œë“¤ë¼.   
@Test(expected=RuntimeException.class) -> ì´ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” ì–´ë–¤ ì˜ˆì™¸ê°€ ë°œìƒí•˜ëŠ”ì§€ í•œ ëˆˆì— ë³¼ ìˆ˜ ìˆë‹¤.   
@Test(timeout=130) -> íƒ€ì„ì•„ì›ƒ í…ŒìŠ¤íŠ¸ë¡œ 130ì´ˆê°€ ì§€ë‚˜ë©´ ë” ì´ìƒ ê°ì²´ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  ë.   
âœ¨í…ŒìŠ¤íŠ¸ë¥¼ ê±´ë„ˆë›¸ ë•Œì—ëŠ” ë°˜ë“œì‹œ ê·¸ ì´ìœ ë¥¼ ëª…ì‹œí•˜ë¼.   
@Ignore(value="ì´ìœ ")   
âœ¨ê°™ì€ íŒ¨í‚¤ì§€, ë‹¤ë¥¸ ë””ë ‰í† ë¦¬   
í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì™€ ë„ë©”ì¸ í´ë˜ìŠ¤ëŠ” ê°™ì€ íŒ¨í‚¤ì§€ë¥¼ ê³µìœ í•˜ë˜, ë¬¼ë¦¬ì ìœ¼ë¡œëŠ” ë‹¤ë¥¸ ë””ë ‰í„°ë¦¬ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ë¼.    
protected ë©”ì„œë“œì— ì ‘ê·¼í•˜ë ¤ë©´ í…ŒìŠ¤íŠ¸ì™€ ë„ë©”ì¸ í´ë˜ìŠ¤ë¥¼ ê°™ì€ í´ë˜ìŠ¤ì— ë‘ì–´ì•¼ í•œë‹¤.   
ê·¸ë¦¬ê³  íŒŒì¼ ê´€ë¦¬ ê°„ì†Œí™” ì¸¡ë©´ì´ë‚˜ í…ŒìŠ¤íŠ¸ì™€ ë„ë©”ì¸ í´ë˜ìŠ¤ë¥¼ ëª…í™•íˆ êµ¬ë¶„í•˜ê¸° ìœ„í•´ì„œëŠ” ì„œë¡œ ë…ë¦½ëœ ë””ë ‰í† ë¦¬ì— ë³´ê´€í•´ì•¼ í•œë‹¤.

# ì†Œí”„íŠ¸ì›¨ì–´ í…ŒìŠ¤íŠ¸ì˜ 4ê°€ì§€ ì¢…ë¥˜   
1. í†µí•©í…ŒìŠ¤íŠ¸   
ì—¬ëŸ¬ ì‘ì—… ë‹¨ìœ„ê°€ ì—°ê³„ëœ ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸
2. ê¸°ëŠ¥í…ŒìŠ¤íŠ¸   
ê³µê°œëœ APIì˜ ê°€ì¥ ë°”ê¹¥ìª½ì— ìˆëŠ” ì½”ë“œ ê²€ì‚¬
ex. ë¡œê·¸ì¸ì„ í•˜ì§€ ì•Šì€ ì±„ ë³´ì•ˆ í˜ì´ì§€ì— ì ‘ê·¼ì‹œ redirect.
3. ìŠ¤íŠ¸ë ˆìŠ¤ í…ŒìŠ¤íŠ¸ì™€ ë¶€í•˜ í…ŒìŠ¤íŠ¸   
íƒ€ì„ì•„ì›ƒ ì£¼ë¡œ ì‚¬ìš©
4. ì¸ìˆ˜ í…ŒìŠ¤íŠ¸   
ì‚¬ìš©ì„±ì´ë‚˜ ë£©ì•¤í•„ ê°™ì€ ì£¼ì œê¹Œì§€ í¬í•¨

# ì‹±ê¸€í†¤?
ì‹±ê¸€í†¤ì€ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì˜¤ì§ í•˜ë‚˜ ë¿ì„ì„ ë³´ì¥í•˜ëŠ” ìœ ìš©í•œ ë””ìì¸ íŒ¨í„´ì´ë‹¤. ì‹±ê¸€í†¤ì˜ ê°œë…ì€ ì¢€ ë” ë§ì€ ê°ì²´ë¥¼ ìƒì„±í•˜ë„ë¡ í™•ì¥ë˜ê¸°ë„ í•œë‹¤.
ì‹±ê¸€í†¤ì„ êµ¬í˜„í•  ë–„ëŠ” í”íˆ private ìƒì„±ìì™€ ì •ì  ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.
## ê°€ì¥ ë‹¨ìˆœí•œ ì‹±ê¸€í†¤ êµ¬í˜„ ì˜ˆ
```
public class Singleton {      
    public static final Singleton INSTANCE = new Singleton();   
    private Singleton() {}   
}   
```

```
public static Singleton {    
    public static Singleton INSTANCE;    
    private Singleton() {}    
    public static Singleton getInstance() {    
        if (INSTANCE == null) {    
            INSTANCE = new Singleton();    
        }    
        return INSTANCE    
    }    
} 
```

# Stubì´ë€?
ìŠ¤í…ì€ ì‹¤ì œ ì½”ë“œë‚˜ ì•„ì§ ì¤€ë¹„ë˜ì§€ ëª»í•œ ì½”ë“œì˜ í–‰ë™ìœ¼ë¡œ ê°€ì¥í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì„ ë§í•œë‹¤. ìŠ¤í…ì„ ì‚¬ìš©í•˜ë©´ ì‹œìŠ¤í…œì˜ íŠ¹ì • ë¶€ë¶„ì´ ë¯¸ì²˜ ì¤€ë¹„ë˜ì§€ ëª»í–ˆë”ë¼ë„ ë‹¤ë¥¸ ë¶€ë¶„ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.

ìŠ¤í…ì´ë€ í˜¸ì¶œìë¥¼ ì‹¤ì œ êµ¬í˜„ë¬¼ë¡œë¶€í„° ê²©ë¦¬ì‹œí‚¬ ëª©ì ìœ¼ë¡œ ëŸ°íƒ€ì„ì— ì‹¤ì œ ì½”ë“œ ëŒ€ì‹  ì‚½ì…ë˜ëŠ” ì½”ë“œ ì¡°ê°ì´ë‹¤! ë³µì¡í•œ í–‰ìœ„ë¥¼ ë‹¨ìˆœí•œ ê²ƒìœ¼ë¡œ êµì²´í•˜ì—¬ ì‹¤ ì½”ë“œì˜ ì¼ë¶€ë¥¼ ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•œ ì˜ë„ë¡œ ì‚¬ìš©ëœë‹¤.

ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì— ìŠ¤í… í™œìš© ê°€ëŠ¥
-ì‹œìŠ¤í…œì´ ë„ˆë¬´ ë³µì¡í•˜ê³  ê¹¨ì§€ê¸° ì‰¬ì›Œ ìˆ˜ì •ì´ ë¶ˆê°€í•  ë•Œ
=í•˜ë¶€ ì‹œìŠ¤í…œ ê°„ì˜ í†µí•© í…ŒìŠ¤íŠ¸ì²˜ëŸ¼ í¬ê´„ì ì¸ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•  ë–„

# Mockito ì‚¬ìš© ì´ìœ ??
ìƒí™© >
```
    @Autowired 
    public MemberService(MemberRepository memberRepository, LoginService loginService, JwtService jwtService) {
        this.memberRepository = memberRepository;
        this.loginService = loginService;
        this.jwtService = jwtService; 
    }
```        
memberServiceëŠ” loginServiceì™€ jwtServiceì˜ ì£¼ì…ì„ ë°›ê³  ìˆë‹¤.
ë¬¼ë¡  í•˜ë‚˜í•˜ë‚˜ êµ¬í˜„í•œ í›„ ë„£ì–´ì¤„ ìˆ˜ ìˆì§€ë§Œ ì´ëŠ” ë§¤ìš° ì˜¤ë˜ ê±¸ë¦¬ê³  ë¹„íš¨ìœ¨ì ì´ë‹¤. 
ì´ëŸ° ì¼ì„ ëŒ€ì‹  í•´ì£¼ëŠ” ê²ƒì´ mockito!

```
class MemberServiceTest {

    @Test
    void createMemberServiceService() {
        LoginService loginService = Mockito.mock(LoginService.class);
        JwtService jwtService = Mockito.mock(JwtService.class);

        MemberService memberService = new MemberService(loginService, jwtService);

        Assertions.assertNotNull(memberService);
    }
}
```

ë˜ëŠ” ê·¸ëƒ¥ ìƒì„±í•  ë•Œ @Mockì„ @Autowiredì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## when() , thenReturn()
~í–ˆì„ ë•Œ ~ê°€ ë¦¬í„´ë˜ì–´ì•¼ í•œë‹¤.
## thenThrow(), doThrow()
thenThrow()ë¥¼ ì´ìš©í•´ì„œ ì˜ˆì™¸ë¥¼ í„°ëœ¨ë¦°ë‹¤.

âœ¨ë‚´ìš© ì¶œì²˜

ì‹¤ì „! ìŠ¤í”„ë§ë¶€íŠ¸ ìƒí’ˆ-ì£¼ë¬¸ API ê°œë°œë¡œ ì•Œì•„ë³´ëŠ” TDD   
https://velog.io/@zunzero/TDD


## ë” ê³µë¶€í•  ë‚´ìš©!!
@Mock
@Autowired
@DataJpaTest